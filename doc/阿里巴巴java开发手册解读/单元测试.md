1. <font color=red>强制 </font>好的单元测试必须遵守 AIR 原则

   ⚫A：Automatic（自动化）

   ⚫ I：Independent（独立性）

   ⚫ R：Repeatable（可重复）

2. <font color=red>强制 </font>单元测试应该是全自动执行的，并且非交互式的。测试用例通常是被定期执行的，执行过程必须完全自动化才有意义。输出结果需要人工检查的测试不是一个好的单元测试。单元测试中不准使用 System.out 来进行人肉验证，必须使用 assert 来验证。

3. <font color=red>强制 </font>保持单元测试的独立性。为了保证单元测试稳定可靠且便于维护，单元测试用例之间决不能互相调用，也不能依赖执行的先后次序。

4. <font color=red> 强制</font> 单元测试是可以重复执行的，不能受到外界环境的影响。

5. <font color=red> 强制</font> 对于单元测试，要保证测试粒度足够小，有助于精确定位问题。单测粒度至多是类级别，一般是方法级别

6. <font color=red> 强制</font> 核心业务、核心应用、核心模块的增量代码确保单元测试通过

7. <font color=red> 强制</font> 单元测试代码必须写在如下工程目录：src/test/java，不允许写在业务代码目录下。

8. <font color=yellow>推荐 </font> 单元测试的基本目标：语句覆盖率达到 70%；核心模块的语句覆盖率和分支覆盖率都要达到 100%

9. <font color=yellow>推荐 </font> 编写单元测试代码遵守 BCDE 原则，以保证被测试模块的交付质量。

   ⚫ B：Border，边界值测试，包括循环边界、特殊取值、特殊时间点、数据顺序等。

   ⚫ C：Correct，正确的输入，并得到预期的结果。

   ⚫ D：Design，与设计文档相结合，来编写单元测试。

   ⚫ E：Error，强制错误信息输入（如：非法数据、异常流程、业务允许外等），并得到预期的结果

10. <font color=yellow>推荐 </font> 对于数据库相关的查询，更新，删除等操作，不能假设数据库里的数据是存在的，或者直接操作数据库把数据插入进去，请使用程序插入或者导入数据的方式来准备数据

11. <font color=yellow>推荐 </font> 和数据库相关的单元测试，可以设定自动回滚机制，不给数据库造成脏数据。或者对单元测试产生的数据有明确的前后缀标识。

12. <font color=yellow>推荐 </font> 对于不可测的代码在适当的时机做必要的重构，使代码变得可测，避免为了达到测试要求而书写不规范测试代码。

13. <font color=yellow>推荐 </font> 在设计评审阶段，开发人员需要和测试人员一起确定单元测试范围，单元测试最好覆盖所有测试用例（UC）。

14. <font color=yellow>推荐 </font> 单元测试作为一种质量保障手段，在项目提测前完成单元测试，不建议项目发布后补充单元测试用例

15. <font color=green>参考</font>为了更方便地进行单元测试，业务代码应避免以下情况：

    1. 构造方法中做的事情过多。
    2. 存在过多的全局变量和静态方法。
    3. 存在过多的外部依赖
    4. 存在过多的条件语句。

16. <font color=green>参考</font>不要对单元测试存在如下误解

    1. 那是测试同学干的事情。本文是开发手册，凡是本文内容都是与开发同学强相关的。
    2. 单元测试代码是多余的。系统的整体功能与各单元部件的测试正常与否是强相关的。
    3. 单元测试代码不需要维护。一年半载后，那么单元测试几乎处于废弃状态
    4. 单元测试与线上故障没有辩证关系。好的单元测试能够最大限度地规避线上故障