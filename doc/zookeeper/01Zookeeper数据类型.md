官方文档上这么解释zookeeper，它是一个分布式协调框架，是Apache Hadoop 的一个子项目，它主要是用来解决分布式应用中经常遇到的一些数据管理问题，如：统一命名服务、状态同步服务、集群管理、分布式应用配置项的管理等

**核心概念**

文件系统数据结构+监听通知机制

**文件系统数据结构** 

* Zookeeper维护一个类似文件系统的数据结构(树型结构)
  * 每个子目录项都被称作为 **znode(****目录节点****)**，和文件系统类似，我们能够自由的增加、删除 znode，在一个znode下增加、删除子znode。 
  * znode类型：
    * PERSISTENT­持久化目录节点：客户端与zookeeper断开连接后，该节点依旧存在，只要不手动删除该节点，他将永远存在
    *  PERSISTENT_SEQUENTIAL­持久化顺序编号目录节点 ：客户端与zookeeper断开连接后，该节点依旧存在，只是Zookeeper给该节点名称进行顺序编号
    * EPHEMERAL­临时目录节点：客户端与zookeeper断开连接后，该节点被删除 
    * EPHEMERAL_SEQUENTIAL­临时顺序编号目录节点:客户端与zookeeper断开连接后，该节点被删除，只是Zookeeper给该节点名称进行顺序编号 
    * Container 节点:节点下面没有子节点，则Container节点 在未来会被Zookeeper自动清除,定时任务默认60s 检查一次
    * TTL 节点:默认禁用，只能通过系统配置 *zookeeper.extendedTypesEnabled=true* 开启，不稳定。过了TTL指定的时间，被服务器删除掉

**监听通知机制** 

客户端注册监听它关心的任意节点，或者目录节点及递归子目录节点 

* 如果注册的是对某个节点的监听，则当这个节点被删除，或者被修改时，对应的客户端将被通 知

* 如果注册的是对某个目录的监听，则当这个目录有子节点被创建，或者有子节点被删除，对应 的客户端将被通知 

* 如果注册的是对某个目录的递归子节点进行监听，则当这个目录下面的任意子节点有目录结构 的变化（有子节点被创建，或被删除）或者根节点有数据变化时，对应的客户端将被通知


> 所有的通知都是一次性的，及无论是对节点还是对目录进行的监听，一旦触发，对应的监 听即被移除。递归子节点，监听是对所有子节点的，所以，每个子节点下面的事件同样只会被触发一次