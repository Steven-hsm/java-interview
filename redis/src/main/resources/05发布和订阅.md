## 1. 什么是发布和订阅

Redis 发布订阅 (pub/sub) 是一种消息通信模式：发送者 (pub) 发送消息，订阅者 (sub) 接收消息。

Redis 客户端可以订阅任意数量的频道。

## 2. redis的订阅与发布

1、客户端可以订阅频道如下图

![img](file:///C:\Users\Admin\AppData\Local\Temp\ksohtml25892\wps1.jpg) 

2、当给这个频道发布消息后，消息就会发送给订阅的客户端



![image-1](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20210612162500215.png)



## 3. 发布订阅实现

1、 打开一个客户端订阅channel1

SUBSCRIBE channel1

![img](file:///C:\Users\Admin\AppData\Local\Temp\ksohtml25892\wps3.jpg) 

2、打开另一个客户端，给channel1发布消息hello

publish channel1 hello

![img](file:///C:\Users\Admin\AppData\Local\Temp\ksohtml25892\wps4.jpg) 

返回的1是订阅者数量

3、打开第一个客户端可以看到发送的消息

![image-20210612162333247](file:///C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20210612162333247.png)



注：发布的消息没有持久化，如果在订阅的客户端收不到hello，只能收到订阅后发布的消息